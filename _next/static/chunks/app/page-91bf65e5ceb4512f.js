(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[974],{3034:(e,t,a)=>{Promise.resolve().then(a.t.bind(a,7970,23)),Promise.resolve().then(a.bind(a,828)),Promise.resolve().then(a.t.bind(a,8334,23))},828:(e,t,a)=>{"use strict";a.d(t,{default:()=>_});var l=a(5155),n=a(2115);let s=(e,t)=>Array.from({length:Math.ceil(e.length/t)},(e,t)=>t+1),c=(e,t,a)=>e.slice((t-1)*a,t*a),i=(e,t,a)=>{let[l,i]=(0,n.useState)([]),[o,r]=(0,n.useState)([]);return(0,n.useEffect)(()=>{i([...s(e,a)]),r([...c(e,t,a)])},[e,i,t,r]),{slice:o,range:l}};var o=a(6839),r=a.n(o),d=a(1785),u=a.n(d);function h(e){let{range:t,setPage:a,page:s,slice:c}=e;return(0,n.useEffect)(()=>{c.length<1&&1!==s&&a(s-1)},[c,s,a]),(0,l.jsxs)("div",{children:[(0,l.jsx)("button",{className:"".concat(u().button," ").concat(u().firstPage),onClick:()=>a(1),children:"<<"},"first-page"),(0,l.jsx)("button",{className:"".concat(u().button," ").concat(u().previousPage),onClick:()=>1==s?a(1):a(s-1),children:"<"},"previous-page"),t.map((e,t)=>(0,l.jsx)("button",{className:"".concat(u().button," ").concat(s===e?u().activeButton:u().inactiveButton),onClick:()=>a(e),children:e},t)),(0,l.jsx)("button",{className:"".concat(u().button," ").concat(u().nextPage),onClick:()=>s==t.length?a(t.length):a(s+1),children:">"},"next-page"),(0,l.jsx)("button",{className:"".concat(u().button," ").concat(u().lastPage),onClick:()=>a(t.length),children:">>"},"last-page")]})}var b=a(648);function _(){let[e,t]=(0,n.useState)([]),[a,s]=(0,n.useState)([]),[c,o]=(0,n.useState)(""),[d,u]=(0,n.useState)([]),[_,m]=(0,n.useState)(null),[x]=(0,n.useState)(10),[p,j]=(0,n.useState)(1),{slice:g,range:v}=i(a,p,x);function N(e,a,l){let{value:n}=e.target;t(e=>e.map(e=>e.id===a?{...e,[l]:n}:e))}(0,n.useEffect)(()=>{(async function(){let e=await fetch("https://geektrust.s3-ap-southeast-1.amazonaws.com/adminui-problem/members.json");t(await e.json())})()},[]),(0,n.useEffect)(()=>{s(e)},[e]),(0,n.useEffect)(()=>{u([])},[p]);let f=0===g.length;return e?(0,l.jsxs)("div",{children:[(0,l.jsx)("h2",{className:r().title,children:"Admin UI"}),(0,l.jsx)("input",{type:"text",placeholder:"Search for a user by name, email or role",onChange:function(e){o(e.target.value.toLowerCase())},className:r().searchInput}),(0,l.jsx)("button",{className:r().searchIcon,onClick:function(){s(e.filter(e=>e.name.toLowerCase().includes(c)||e.email.toLowerCase().includes(c)||e.role.toLowerCase().includes(c)))},children:"Search"},"searchButton"),f?(0,l.jsx)("p",{className:r().noDataFound,children:"No data found!"}):(0,l.jsxs)(l.Fragment,{children:[(0,l.jsxs)("table",{className:r().table,children:[(0,l.jsx)("thead",{className:r().tableRowHeader,children:(0,l.jsxs)("tr",{children:[(0,l.jsx)("th",{className:r().tableHeader,children:(0,l.jsx)("input",{type:"checkbox",checked:d.length===g.length&&0!==d.length,onChange:function(e){e.target.checked?u(g.map(e=>e.id)):u([])}})}),(0,l.jsx)("th",{className:r().tableHeader,children:" Name "}),(0,l.jsx)("th",{className:r().tableHeader,children:" Email "}),(0,l.jsx)("th",{className:r().tableHeader,children:" Role "}),(0,l.jsx)("th",{colSpan:2,className:r().tableHeader,children:"Action"})]})}),(0,l.jsx)("tbody",{children:g.map(e=>(0,l.jsxs)("tr",{className:"".concat(r().tableRowItems," ").concat(d.includes(e.id)?r().selectedRow:r().unselectedRow),children:[(0,l.jsx)("td",{className:r().tableCell,children:(0,l.jsx)("input",{type:"checkbox",checked:d.includes(e.id),onChange:()=>{var t;return t=e.id,void u(e=>e.includes(t)?e.filter(e=>e!==t):[...e,t])}})}),(0,l.jsx)("td",{className:r().tableCell,children:(0,l.jsx)("input",{className:"".concat(r().inputField," ").concat(_===e.id?r().activeInput:r().inactiveInput),type:"text",value:e.name,readOnly:_!==e.id,onChange:t=>N(t,e.id,"name")})}),(0,l.jsx)("td",{className:r().tableCell,children:(0,l.jsx)("input",{className:"".concat(r().inputField," ").concat(_===e.id?r().activeInput:r().inactiveInput),type:"text",value:e.email,readOnly:_!==e.id,onChange:t=>N(t,e.id,"email")})}),(0,l.jsx)("td",{className:r().tableCell,children:(0,l.jsx)("input",{className:"".concat(r().inputField," ").concat(_===e.id?r().activeInput:r().inactiveInput),type:"text",style:{textTransform:"capitalize"},value:e.role,readOnly:_!==e.id,onChange:t=>N(t,e.id,"role")})}),(0,l.jsx)("td",{className:r().tableCell,children:(0,l.jsx)("button",{onClick:()=>{var t;_===(t=e.id)?m(null):m(t)},className:r().edit,children:_===e.id?(0,l.jsx)(b.rZB,{size:20,color:"green"}):(0,l.jsx)(b.Yvo,{size:20,color:"green"})},"editButton")}),(0,l.jsx)("td",{className:r().tableCell,children:(0,l.jsx)("button",{onClick:()=>{var a;return a=e.id,void t(e=>e.filter(e=>e.id!==a))},className:r().delete,children:(0,l.jsx)(b.b6i,{size:20,color:"red"})},"deleteButton")})]},e.id))})]}),(0,l.jsxs)("div",{className:r().tableFooter,children:[(0,l.jsx)("button",{onClick:function(){t(e=>e.filter(e=>!d.includes(e.id))),u([])},className:r().deleteAllBtn,children:"Delete Selected"}),(0,l.jsx)(h,{range:v,slice:g,setPage:j,page:p})]})]})]}):(0,l.jsx)("div",{children:"Loading..."})}},1785:e=>{e.exports={button:"TableFooter_button__5Cn6v",activeButton:"TableFooter_activeButton__jQO1_"}},6839:e=>{e.exports={title:"UserTable_title__tKWTh",searchInput:"UserTable_searchInput__wyNHp",searchIcon:"UserTable_searchIcon__ycBTa",table:"UserTable_table__WKKfh",tableRowHeader:"UserTable_tableRowHeader__u9kxY",tableHeader:"UserTable_tableHeader__YpwXC",tableCell:"UserTable_tableCell__FWcZb",inactiveInput:"UserTable_inactiveInput__AJAkY",selectedRow:"UserTable_selectedRow___gO79",tableFooter:"UserTable_tableFooter__Ov5_O",deleteAllBtn:"UserTable_deleteAllBtn__01nMK",edit:"UserTable_edit__uvs1J",delete:"UserTable_delete__BAtt_",noDataFound:"UserTable_noDataFound__CMxOA"}},8334:e=>{e.exports={main:"page_main__GlU4n",footer:"page_footer__sHKi3"}}},e=>{var t=t=>e(e.s=t);e.O(0,[963,479,552,441,517,358],()=>t(3034)),_N_E=e.O()}]);